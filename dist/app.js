"use strict";

/**
 * Synchronizes the value of any two input fields.
 *
 * @param  inputA   An input DOM node to be synced with inputB.
 * @param  inputB   An input DOM node to be synced with inputA.
 * @return An object with properties that represent each input and their coresponding event handler.
 */
var syncInput = function (inputA, inputB) {
  var aToB = function () {
    inputB.value = inputA.value;
  };

  var bToA = function () {
    inputA.value = inputB.value;
  };

  inputA.addEventListener("keyup", aToB);
  inputB.addEventListener("keyup", bToA);

  return {
    a: { node: inputA, fn: aToB },
    b: { node: inputB, fn: aToB }
  };
};

/**
 * Removes event listeners generated by the syncInput function.
 *
 * @param   inputs   An object with each input DOM node & coresponding event handlers.
 * @return  inputs   An object of the same inputs with the event listeners removed.
 */
var removeSync = function (inputs) {
  inputs.a.node.removeEventListener("keyup", inputs.a.fn);
  inputs.b.node.removeEventListener("keyup", inputs.b.fn);
  return {
    a: inputs.a.node.value,
    b: inputs.b.node.value
  };
};

/**
 * Saves the values of each input field and appends it to the 'savedInputs' area in the DOM.
 *
 * @param inputs   An object with each input DOM node.
 */
var saveSync = function (inputs, id) {
  var left = inputs.a,
      right = inputs.b;

  document.getElementById(id).innerHTML += "" + left + " synced with " + right;
};
"use strict";

// Grab the input fields to pass into the syncInput function.
var inputA = document.getElementById("input"),
    inputB = document.getElementById("target");

// syncInput() returns an object with 'active' DOM nodes and their event
// listener's handeler function. We can use this return value to
// remove event listeners later on, read the input values, etc.
var inputs = syncInput(inputA, inputB);

// Grab the buttons and configure sync.
var endButton = document.getElementById("end");
var saveButton = document.getElementById("save");

endButton.addEventListener("click", function () {
  removeSync(inputs);
});
saveButton.addEventListener("click", function () {
  saveSync(inputs, "savedInputs");
});
